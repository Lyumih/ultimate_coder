<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Игровая зона конструктора</title>
</head>

<body>
  <a href="index.html">Главная информация</a>
  <a href="constructor.html">Конструктор кодера</a>
  <a href="play-zone.html">Игровая зона конструтора</a>
  <a href="api-info.html">Документация API</a>
  <a href="api-play-zone.html">Игровая зона API</a>
  <a href="table-pow.html">Таблица степени до 20</a>
  <a href="https://github.com/Lyumih/ultimate_coder" target="blank" style="float: right">Мы на GitHub</a>

  <h3>Число на входе</h3>
  <input type="text" placeholder="Число на вход" value="10000" oninput="setCurrent2(this.value)" />

  <h3>Строка-комбинация фильтров</h3>
  <p for="textLogic">Функция с комбинацией обработки над числом</p>
  <textarea id="textLogic" rows="7" cols="45" placeholder="Функция с логикой">return crat(current, 2) 
    ? current / 2 
    : current - 11</textarea>
  <p for="stopLogic">Функция с условием выхода</p>

  <textarea id="stopLogic" rows="7" cols="45" placeholder="Предел для останавливания">if (next < 1000){
  setCurrent(12321)
  return true
}</textarea>
  <hr />
  <button onclick="makeOneStep()">Запустить 1 шаг</button>
  <hr />
  <h3>Результат работы</h3>
  <ol id="result">
    <li>
      Отсутствуют инструкции</li>
  </ol>

  <hr>
  <h4>Кейсы: </h4>
  <ul>
    <li>Если чётное - делим на 2. Если нечетное - убираем последний знак. Код: return crat(current, 2)
      ? current / 2
      : (''+current).substr(0,(''+current).length-1)
    </li>
    <li>Если кратно 3 - делим на 3. Иначе - вычитаем 11. Код: return crat(current, 3)
      ? current / 3
      : current - 11
    </li>
  </ul>
  <script src="coder-api.js"></script>
  <script src="coder-hashing.js"></script>
  <script src="coder-const.js"></script>
  <script src="coder-engine.js"></script>
  <script>
    function setCurrent2(value) {
      next = value
      current = value
    }
    setCurrent2(10000)



    function makeOneStep() {
      let textLogic = document.getElementById('textLogic').value
      console.log('current', current, 'next', next)
      setStop(document.getElementById('stopLogic').value)
      console.log(stop)

      makeStep(inFunc(textLogic))
      document.getElementById('result').innerHTML = '<li>' + steps.join('</li><li>') + '</li>'
    }
  </script>

</body>

</html>
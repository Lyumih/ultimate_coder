<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Конструктор кодера</title>
</head>

<body>
  <a href="index.html">Главная информация</a>
  <a href="constructor.html">Конструктор кодера</a>
  <a href="play-zone.html">Игровая зона конструтора</a>
  <a href="api-info.html">Документация API</a>
  <a href="api-play-zone.html">Игровая зона API</a>
  <a href="https://github.com/Lyumih/ultimate_coder" style="float: right">Мы на GitHub</a>

  <h3>API Методы</h3>
  <ol>
    <li>sumNumbersByIndex(item, first, second) : number - возвращает сумму цифр на индексах first и second у item.
      Пример
      2512->
      sumNumbersByIndex(2512, 0, 3) -> 4</li>
    <li>crat(item, power) : boolean - возвращает true, если item кратно power. Пример 2512 и 4 -> crat(2512, 4) -> true
    </li>
    <li>adler32(item) : string - возвращает 8-значный hash от item по шифру Adler32. Пример 2512 -> adler32(2512) ->
      01ff00cb</li>
  </ol>
  <hr />

  <h3>Нативные методы JS</h3>
  <ol>
    <li>Встроеная библиотека Math <a
        href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math">Math - JavaScript |
        MDN</a></li>
  </ol>

  <script>
    let base = "123456789";
    // calc(base);
    // increment("21", 20);

    binary("20");
    let to = convert("1231412");
    let from = convertBack(to);
    console.log(to, from);
    console.log(crat(10, 2));

    function calc(base) {
      console.log(base);
      for (let step = 0; base.length > 2; step++) {
        let short = base.substr(0, base.length - 2);
        let two = base.substr(-2);
        let three = base.substr(-3);
        let tail = three - two;
        base = short + tail;
        console.log(short, two, three, tail);
        console.log(step, base);
        if (step > 10) {
          console.log("break");
          return;
        }
      }
    }

    function increment(base, step) {
      console.log("increment", base, step);
      while (step > 0) {
        step--;
        let short = base.substr(0, base.length - 2);
        let two = base.substr(-2);
        let three = base.substr(-3);
        let tail = Number(two) + 99;
        base = short + tail;
        console.log(short, two, three, tail);
        console.log(step, base);
      }
    }

    function binary(inner) {
      let length = inner.length;
      let max = "9".repeat(length);
      console.log(length, max, inner);

      let current = "0".repeat(length);

      for (let step = 0; step < 4; step++) {
        if (current == inner) {
          console.log("Найдено", current);
        } else if (current > inner) {
          console.log(" inner big", current, inner);
        } else {
          console.log(" inner small", current, inner);
        }
      }
    }

    function convert(inner) {
      let letters = inner.split("");
      return letters.map((letter, index) =>
        ("" + (index % 2)).repeat(letter)
      );
    }

    function convertBack(arr) {
      return arr.map(letter => letter.length);
    }

    function crat(val) {
      console.log(val);
      let count = [];
      for (let start = 2; start < val; start++) {
        if (val % start == 0) {
          count.push(start);
        }
      }
      return count;
    }

    function prop(val) {
      let prop = [];
      prop.push(val % 2 == 0);
      prop.push(val % 3 == 0);
      prop.push(val % 5 == 0);
      prop.push(val % 7 == 0);
      prop.push(val % 11 == 0);
      return prop;
    }
  </script>
</body>

</html>